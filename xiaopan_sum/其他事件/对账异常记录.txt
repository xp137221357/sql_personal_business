对账方式：
两边对账：对账日->用户群->用户->订单
事件对账：对账日->按事件类型计算消耗

*不管事件，只管总出入
因为：金币的变化不一定来自于具体的消耗事件
也可能来自于用户间的交易=系统扣除+系统派发
如果系统扣除与系统派发的时间不一致也会导致时间段内的金币偏差


-- 金币对账异常点(账务日志~事件~订单)
1.漏掉一些事件
解决办法：增加其他消耗项=用户账务总消耗-事件总消耗

2.账务事件两边时间差
解决办法：账务采用快照回闪精确时间点计算账务前总余额

3.账务的问题
crt_time随着update_time更新了，导致与事件的时间上不同步 

4.事件与订单的记录方式没有统一
事件是增加记录，订单是更改状态，可能导致查询时间难统一

5.事件订单状态问题
订单失败=成功下注+订单退还，
而事件会记录所有成功的行为

6.订单表异常
a.退还与派奖同时存在
b.派奖异常时，通过后台手动操作修改，事件增加新的事件记录，订单需要手动更改原记录，可能导致更新数据的不同步

7.数据库故障(down机出现)
add_time异常，应该在pay_time之后，但是比pay_time还小
解决办法:取pay_time

8.新版本bug问题引起
消息队列的堆积不消化引起
如3月05日的今日头条版上线
导致t_acct_item表有100多条数据的item_status为0,pay_time为空
解决办法：重新刷数据

9.计算账务库余额时转化时间戳问题
时间戳毫秒会四舍五入，导致偏差1秒
解决办法：去掉时间戳毫秒

10.派奖异常（账务扣款，没有通知事件）
解决办法：增加同步事件需求

11.企业账户派发款延迟（企业账户余额不足，派发请求时间与实际派发时间误差）
解决办法：将pay_time更新update_time

12.账务计算group by (date(---))时间引起的问题;